@import "tailwindcss";

@theme {
  /* Ocean palette */
  --color-ocean-950: #F5F7FA;
  --color-ocean-900: #EFF1F5;
  --color-ocean-800: #E4E7EC;
  --color-ocean-700: #D1D5DB;
  --color-ocean-600: rgba(0,0,0,0.04);
  --color-ocean-500: rgba(0,0,0,0.08);
  --color-ocean-400: rgba(0,0,0,0.12);

  /* Glass accent palette */
  --color-glass: #38bdf8;
  --color-glass-bright: #22d3ee;
  --color-glass-deep: #06b6d4;
  --color-glass-muted: #0ea5e9;

  /* Accent pink */
  --color-accent-pink: #f472b6;

  /* Score palette */
  --color-score-very-high: #06b6d4;
  --color-score-high: #22d3ee;
  --color-score-medium: #facc15;
  --color-score-low: #fb923c;
  --color-score-very-low: #64748b;

  /* Semantic */
  --color-danger: #ef4444;
  --color-river: #60a5fa;

  /* Text */
  --color-text-primary: #1A1A2E;
  --color-text-body: #374151;
  --color-text-secondary: #6B7280;
  --color-text-tertiary: #9CA3AF;

  /* Fonts */
  --font-display: "Space Grotesk", sans-serif;
  --font-body: "DM Sans", sans-serif;
}

/* ─── Glassmorphism Utilities ─────────────────────────── */

.glass-card {
  background: rgba(255,255,255,0.85);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(0,0,0,0.08);
  box-shadow: 0 2px 16px rgba(0,0,0,0.06);
}

.glass-surface {
  background: rgba(255,255,255,0.82);
  backdrop-filter: blur(20px);
  -webkit-backdrop-filter: blur(20px);
  border: 1px solid rgba(255,255,255,0.5);
  box-shadow: 0 2px 12px rgba(0,0,0,0.05);
}

.glass-header {
  background: rgba(255,255,255,0.88);
  backdrop-filter: blur(24px);
  -webkit-backdrop-filter: blur(24px);
  box-shadow: 0 1px 3px rgba(0,0,0,0.06);
}

/* Base styles */
body {
  background: #F5F7FA;
  color: var(--color-text-body);
  font-family: var(--font-body);
  overflow: hidden;
}

/* ─── Focus & Accessibility ────────────────────────────── */

*:focus-visible {
  outline: 2px solid var(--color-glass);
  outline-offset: 2px;
  border-radius: 4px;
}

/* ─── Custom Scrollbar ─────────────────────────────────── */

.sidebar-scroll::-webkit-scrollbar {
  width: 4px;
}

.sidebar-scroll::-webkit-scrollbar-track {
  background: transparent;
}

.sidebar-scroll::-webkit-scrollbar-thumb {
  background: linear-gradient(180deg, var(--color-glass-deep), var(--color-accent-pink));
  border-radius: 2px;
}

.sidebar-scroll::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(180deg, var(--color-glass), var(--color-accent-pink));
}

/* Firefox */
.sidebar-scroll {
  scrollbar-width: thin;
  scrollbar-color: var(--color-glass-deep) transparent;
}

/* ─── Animations ───────────────────────────────────────── */

/* River pulse */
@keyframes pulse-river {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.5;
    transform: scale(1.5);
  }
}

.animate-pulse-river {
  animation: pulse-river 2.5s ease-in-out infinite;
}

/* Score bar fill */
@keyframes fill-bar {
  from {
    width: 0%;
  }
}

.animate-fill-bar {
  animation: fill-bar 0.6s cubic-bezier(0.22, 1, 0.36, 1);
}

/* Sidebar panel stagger */
@keyframes slide-in {
  from {
    opacity: 0;
    transform: translateY(16px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

.animate-slide-in {
  animation: slide-in 0.4s cubic-bezier(0.22, 1, 0.36, 1) forwards;
  opacity: 0;
}

/* Sidebar enter from left (tablet) */
@keyframes sidebar-enter {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-sidebar-enter {
  animation: sidebar-enter 0.3s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Backdrop fade in */
@keyframes fade-in {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fade-in 0.2s ease-out forwards;
}

/* Panel enter from right (comments panel) */
@keyframes panel-enter-right {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

.animate-panel-enter-right {
  animation: panel-enter-right 0.3s cubic-bezier(0.22, 1, 0.36, 1) forwards;
}

/* Loading spinner */
@keyframes spin-slow {
  to { transform: rotate(360deg); }
}

.animate-spin-slow {
  animation: spin-slow 2s linear infinite;
}

/* SeaGlass loader */
@keyframes sg-orbit-cw { to { transform: rotate(360deg); } }
@keyframes sg-orbit-ccw { to { transform: rotate(-360deg); } }
@keyframes sg-float {
  0% { transform: translateX(var(--sg-start)); }
  100% { transform: translateX(var(--sg-end)); }
}
@keyframes sg-spin-cw { to { transform: rotate(360deg); } }
@keyframes sg-spin-ccw { to { transform: rotate(-360deg); } }

.sg-orbit {
  transform-origin: 100px 100px;
  animation: var(--sg-orbit-dir) var(--sg-orbit-dur) linear infinite;
}

.sg-float {
  animation: sg-float var(--sg-float-dur) ease-in-out infinite alternate;
}

.sg-spin {
  animation: var(--sg-spin-dir) var(--sg-spin-dur) linear infinite;
}

/* FAB pulse glow — removed, using static glass effect instead */

/* iOS-style spring curve for bottom sheet snapping */
.sheet-transition {
  transition: height 0.35s cubic-bezier(0.32, 0.72, 0, 1);
}

/* ─── Prevent iOS auto-zoom on input focus ────────────── */
/* iOS Safari zooms in when font-size < 16px on focused inputs */

@media screen and (max-width: 767px) {
  input:not([type="checkbox"]):not([type="radio"]):not([type="hidden"]),
  textarea,
  select {
    font-size: 1rem !important;
  }
}

/* ─── Mapbox Overrides ─────────────────────────────────── */

.mapboxgl-popup-content {
  background: rgba(255,255,255,0.92) !important;
  backdrop-filter: blur(20px) !important;
  -webkit-backdrop-filter: blur(20px) !important;
  color: #1A1A2E !important;
  border-radius: 16px !important;
  padding: 0 !important;
  box-shadow:
    0 4px 24px rgba(0, 0, 0, 0.08),
    0 12px 48px rgba(0, 0, 0, 0.06) !important;
  border: 1px solid rgba(0, 0, 0, 0.06) !important;
}

.mapboxgl-popup-tip {
  border-top-color: rgba(255,255,255,0.92) !important;
}

.mapboxgl-popup-close-button {
  color: #6B7280 !important;
  font-size: 18px !important;
  padding: 4px 8px !important;
  transition: color 0.15s ease;
}

.mapboxgl-popup-close-button:hover {
  color: #1A1A2E !important;
  background: transparent !important;
}

/* Hide Mapbox attribution on small screens */
@media (max-width: 767px) {
  .mapboxgl-ctrl-attrib {
    display: none;
  }
}

